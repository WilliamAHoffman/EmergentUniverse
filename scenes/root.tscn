[gd_scene load_steps=5 format=3 uid="uid://cyj1qkdkxyycc"]

[ext_resource type="Script" path="res://scripts/button scripts/button_manager.gd" id="1_u0srf"]
[ext_resource type="Script" path="res://scripts/resource scripts/resource_manager.gd" id="2_os0tv"]
[ext_resource type="Script" path="res://scripts/teleport scripts/teleporter.gd" id="3_pau4i"]
[ext_resource type="PackedScene" uid="uid://nyluktd1xlwm" path="res://scenes/notification.tscn" id="4_7ft6n"]

[node name="MainScene" type="Node2D"]

[node name="ButtonManager" type="Node2D" parent="." node_paths=PackedStringArray("button_manager", "resource_manager")]
script = ExtResource("1_u0srf")
button_manager = NodePath("../ButtonManagerControl")
resource_manager = NodePath("../ResourceManager")
notif = ExtResource("4_7ft6n")

[node name="ButtonManagerControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
metadata/_edit_use_anchors_ = true

[node name="GridGrid" type="HBoxContainer" parent="ButtonManagerControl"]
layout_mode = 0
offset_top = 64.0
offset_right = 1980.0
offset_bottom = 1280.0

[node name="ResourceGrid" type="GridContainer" parent="ButtonManagerControl/GridGrid"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 5

[node name="ShopGrid" type="GridContainer" parent="ButtonManagerControl/GridGrid"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 5

[node name="ActionGrid" type="GridContainer" parent="ButtonManagerControl/GridGrid"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 5

[node name="ResourceManager" type="Node2D" parent="."]
script = ExtResource("2_os0tv")

[node name="ResourceTimer" type="Timer" parent="ResourceManager"]
autostart = true

[node name="PlayerCamera" type="Camera2D" parent="."]
anchor_mode = 0

[node name="CanvasLayer" type="CanvasLayer" parent="PlayerCamera"]

[node name="TeleportManagerControl" type="Control" parent="PlayerCamera/CanvasLayer" node_paths=PackedStringArray("camera", "shop_teli", "resource_teli", "action_teli")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("3_pau4i")
camera = NodePath("../..")
shop_teli = NodePath("TeleporterGrid/Shop")
resource_teli = NodePath("TeleporterGrid/Resource")
action_teli = NodePath("TeleporterGrid/Action")

[node name="TeleporterGrid" type="GridContainer" parent="PlayerCamera/CanvasLayer/TeleportManagerControl"]
layout_direction = 2
layout_mode = 0
offset_right = 1980.0
offset_bottom = 63.0
columns = 3

[node name="Resource" type="Button" parent="PlayerCamera/CanvasLayer/TeleportManagerControl/TeleporterGrid"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
text = "Resources
"

[node name="Notification" parent="PlayerCamera/CanvasLayer/TeleportManagerControl/TeleporterGrid/Resource" instance=ExtResource("4_7ft6n")]

[node name="Shop" type="Button" parent="PlayerCamera/CanvasLayer/TeleportManagerControl/TeleporterGrid"]
visible = false
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
text = "Shop
"

[node name="Notification" parent="PlayerCamera/CanvasLayer/TeleportManagerControl/TeleporterGrid/Shop" instance=ExtResource("4_7ft6n")]

[node name="Action" type="Button" parent="PlayerCamera/CanvasLayer/TeleportManagerControl/TeleporterGrid"]
visible = false
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
text = "Actions"

[node name="Notification" parent="PlayerCamera/CanvasLayer/TeleportManagerControl/TeleporterGrid/Action" instance=ExtResource("4_7ft6n")]

[node name="DisplayManager" type="Control" parent="PlayerCamera/CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ClickCounter" type="Label" parent="PlayerCamera/CanvasLayer/DisplayManager"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[node name="SecondCounter" type="Label" parent="PlayerCamera/CanvasLayer/DisplayManager"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[connection signal="timeout" from="ResourceManager/ResourceTimer" to="ButtonManager" method="_on_resource_timer_timeout"]
